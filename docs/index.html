<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Business rules engine</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script src="assets/js/modernizr.js"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">Business rules engine</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-private" checked />
							<label class="tsd-widget" for="tsd-filter-private">Private</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> Business rules engine</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h1 id="business-rules-engine">Business rules engine</h1>
				<p><img src="https://raw.githubusercontent.com/rsamec/business-rules-engine/master/form_logo.jpg" alt="logo"></p>
				<p>Business rules engine is a lightweight JavaScript library for easy business rules definition of the product, the contract, the form etc.</p>
				<h2 id="key-features">Key features</h2>
				<p>The main benefit is that business rules engine is not tight to HTML DOM or any other UI framework.
					This validation engine is <strong>UI agnostic</strong> and that is why it can be used as <strong>an independent representation of business rules</strong> of a product, contract, etc.
				It can be easily reused by different types of applications, libraries.</p>
				<ul>
					<li>It enables to decorate custom objects and its properties with validation rules.</li>
					<li>It supports declarative and imperative validation rules definition<ul>
							<li>declarative <a href="http://json-schema.org/">JSON schema</a> with validation keywords <a href="http://json-schema.org/latest/json-schema-validation.html">JSON Schema Validation</a></li>
							<li>declarative raw JSON data  annotated with meta data - using keywords from <a href="http://jqueryvalidation.org/">JQuery validation plugin</a></li>
							<li>imperative - <a href="http://rsamec.github.io/business-rules-engine/docs/modules/validation-validation.validation.html">validation API</a></li>
						</ul>
					</li>
					<li>It supports composition of validation rules, that enables to validate custom object with nested structures.</li>
					<li>It is ease to create your own custom validators.</li>
					<li>It supports asynchronous validation rules (uses promises).</li>
					<li>It supports shared validation rules.</li>
					<li>It supports assigning validation rules to collection-based structures - arrays and lists.</li>
					<li>It supports localization of error messages with TranslateArgs.</li>
					<li>It deploys as AMD, CommonJS or plain script module pattern.</li>
					<li>It offers basic build-in constrains validators. See list <a href="http://rsamec.github.io/business-rules-engine/docs/modules/validation-basicvalidators.validators.html">basic build-in constraints</a></li>
					<li>Other custom validators can be find in extensible repository of custom validators (work in progress).</li>
				</ul>
				<h2 id="installation">Installation</h2>
				<p>This module is installed:</p>
				<ul>
					<li>Node.js<ul>
							<li>npm install business-rules-engine</li>
							<li>use require(&#39;business-rules-engine&#39;);</li>
						</ul>
					</li>
					<li>Bower<ul>
							<li>bower install business-rules-engine</li>
							<li>Require.js - require([&quot;business-rules-engine/amd/Validation&quot;], ...</li>
							<li>Script tag -&gt; add reference to business-rules-engine/module/Validation.js file.</li>
						</ul>
					</li>
				</ul>
				<h2 id="example-usage">Example Usage</h2>
				<p>There are 3 ways how to define validation rules</p>
				<ul>
					<li>declarative <a href="http://json-schema.org/">JSON schema</a> with validation keywords <a href="http://json-schema.org/latest/json-schema-validation.html">JSON Schema Validation</a></li>
					<li>declarative raw JSON data  annotated with meta data - using keywords from <a href="http://jqueryvalidation.org/">JQuery validation plugin</a></li>
					<li>imperative - <a href="http://rsamec.github.io/business-rules-engine/docs/modules/validation-validation.validation.html">validation API</a></li>
				</ul>
				<h3 id="json-schema-validation">JSON Schema Validation</h3>
				<pre><code class="lang-js">    {
        FirstName: {
            type: <span class="hljs-string">"string"</span>,
            title: <span class="hljs-string">"First name"</span>,
            required: <span class="hljs-string">"true"</span>,
            maxLength: <span class="hljs-number">15</span>
        },
        LastName: {
            type: <span class="hljs-string">"string"</span>,
            <span class="hljs-string">"title"</span>: <span class="hljs-string">"Last name"</span>,
            required: <span class="hljs-literal">true</span>,
            maxLength: <span class="hljs-number">15</span>
        },
        Contacts: {
            type: <span class="hljs-string">"array"</span>,
            maxItems: <span class="hljs-number">4</span>,
            minItems: <span class="hljs-number">2</span>,
            items: {
                type: <span class="hljs-string">"object"</span>,
                properties: {
                    Email: {
                        type: <span class="hljs-string">"string"</span>,
                        title: <span class="hljs-string">"Email"</span>,
                        <span class="hljs-keyword">default</span>: <span class="hljs-string">''</span>,
                        required: <span class="hljs-literal">true</span>,
                        maxLength: <span class="hljs-number">100</span>,
                        pattern: <span class="hljs-string">"S*@S*"</span> },
                    Mobile: {
                        type: <span class="hljs-string">"object"</span>,
                        properties: {
                            CountryCode: {
                                type: <span class="hljs-string">"string"</span>,
                                title: <span class="hljs-string">"Country code"</span>,
                                required: <span class="hljs-literal">true</span>,
                                maxLength: <span class="hljs-number">3</span>,
                                enum: [<span class="hljs-string">"FRA"</span>, <span class="hljs-string">"CZE"</span>, <span class="hljs-string">"USA"</span>, <span class="hljs-string">"GER"</span>]
                            },
                            <span class="hljs-built_in">Number</span>: {
                                type: <span class="hljs-string">"string"</span>,
                                title: <span class="hljs-string">"Phone number"</span>,
                                required: <span class="hljs-literal">true</span>,
                                maxLength: <span class="hljs-number">9</span>
                            }
                        }
                    },
                    FixedLine: {
                        type: <span class="hljs-string">"object"</span>,
                        properties: {
                            CountryCode: {
                                type: <span class="hljs-string">"string"</span>,
                                title: <span class="hljs-string">"Country code"</span>,
                                required: <span class="hljs-literal">true</span>,
                                maxLength: <span class="hljs-number">3</span>,
                                enum: [<span class="hljs-string">"FRA"</span>, <span class="hljs-string">"CZE"</span>, <span class="hljs-string">"USA"</span>, <span class="hljs-string">"GER"</span>]
                            },
                            <span class="hljs-built_in">Number</span>: {
                                type: <span class="hljs-string">"string"</span>,
                                title: <span class="hljs-string">"Phone number"</span>,
                                required: <span class="hljs-literal">true</span>,
                                maxLength: <span class="hljs-number">9</span>
                            }
                        }
                    }
                }
            }
        }
    }
</code></pre>
				<h3 id="json-data-annotated-with-meta-data">JSON data annotated with meta data</h3>
				<pre><code class="lang-js"><span class="hljs-comment">// define data structure + validation rules meta data</span>
  {
        FirstName: {
            rules: {required: <span class="hljs-literal">true</span>, maxlength: <span class="hljs-number">15</span>}},
        LastName: {
            rules: {required: <span class="hljs-literal">true</span>, maxlength: <span class="hljs-number">15</span>}},
        Contacts: [
            {
                Email: {
                    rules: {
                        required: <span class="hljs-literal">true</span>,
                        maxlength: <span class="hljs-number">100</span>,
                        email: <span class="hljs-literal">true</span>
                    }
                },
                Mobile: {
                    CountryCode: {
                        rules: {required: <span class="hljs-literal">true</span>, maxlength: <span class="hljs-number">3</span>, enum: [<span class="hljs-string">"FRA"</span>, <span class="hljs-string">"CZE"</span>, <span class="hljs-string">"USA"</span>, <span class="hljs-string">"GER"</span>] }
                    },
                    <span class="hljs-built_in">Number</span>: {
                        rules: {required: <span class="hljs-literal">true</span>, maxlength: <span class="hljs-number">9</span> }
                    }
                },
                FixedLine: {
                    CountryCode: {
                        rules: {required: <span class="hljs-literal">true</span>, maxlength: <span class="hljs-number">3</span>, enum: [<span class="hljs-string">"FRA"</span>, <span class="hljs-string">"CZE"</span>, <span class="hljs-string">"USA"</span>, <span class="hljs-string">"GER"</span>] }
                    },
                    <span class="hljs-built_in">Number</span>: {
                        rules: {required: <span class="hljs-literal">true</span>, maxlength: <span class="hljs-number">9</span> }
                    }
                }
            },{maxItems: <span class="hljs-number">4</span>, minItems: <span class="hljs-number">2</span>}
        ]
    }
</code></pre>
				<h3 id="imperative-definition-using-api">Imperative definition - using API</h3>
				<p>To define business rules for some object, you have to create abstract validator.</p>
				<pre><code class="lang-js">          <span class="hljs-comment">//create new validator for object with structure&lt;IPerson&gt;</span>
          <span class="hljs-keyword">var</span> personValidator = <span class="hljs-keyword">new</span> Validation.AbstractValidator();

          <span class="hljs-comment">//basic validators</span>
          <span class="hljs-keyword">var</span> required = <span class="hljs-keyword">new</span> Validators.RequiredValidator();
          <span class="hljs-keyword">var</span> maxLength = <span class="hljs-keyword">new</span> Validators.MaxLengthValidator(<span class="hljs-number">15</span>);

          <span class="hljs-comment">//assigned validators to property</span>
          personValidator.RuleFor(<span class="hljs-string">"FirstName"</span>, required);
          personValidator.RuleFor(<span class="hljs-string">"FirstName"</span>,maxLength);

          <span class="hljs-comment">//assigned validators to property</span>
          personValidator.RuleFor(<span class="hljs-string">"LastName"</span>, required);
          personValidator.RuleFor(<span class="hljs-string">"LastName"</span>,maxLength);

          ...
</code></pre>
				<p>To use business rules and execute them on particular data</p>
				<pre><code class="lang-js">          <span class="hljs-comment">//create test data</span>
          <span class="hljs-keyword">var</span> data = {
                Person1:
                {
                    FirstName:<span class="hljs-string">'John'</span>,
                    LastName: <span class="hljs-string">'Smith'</span>
                },
                Person2:{}

          }

          <span class="hljs-comment">//create concrete rule</span>
          <span class="hljs-keyword">var</span> person1Validator = personValidator.CreateRule(<span class="hljs-string">"Person 1"</span>);

          <span class="hljs-comment">//execute validation</span>
          <span class="hljs-keyword">var</span> result = person1Validator.Validate(<span class="hljs-keyword">this</span>.Data.Person1);

          <span class="hljs-comment">//verify results</span>
          <span class="hljs-keyword">if</span> (result.HasErrors){
              <span class="hljs-built_in">console</span>.log(result.ErrorMessage);
          }
          <span class="hljs-comment">//---------</span>
          <span class="hljs-comment">//--outputs</span>
          <span class="hljs-comment">//---------</span>

          <span class="hljs-comment">//create concrete rule</span>
          <span class="hljs-keyword">var</span> person2Validator = personValidator.CreateRule(<span class="hljs-string">"Person 2"</span>);

          <span class="hljs-comment">//execute validation</span>
          <span class="hljs-keyword">var</span> result = person2Validator.Validate(<span class="hljs-keyword">this</span>.Data.Person1);

           <span class="hljs-comment">//verify results</span>
          <span class="hljs-keyword">if</span> (result.HasErrors){
              <span class="hljs-built_in">console</span>.log(result.ErrorMessage);
          }

          <span class="hljs-comment">//---------</span>
          <span class="hljs-comment">//--outputs</span>
          <span class="hljs-comment">//---------</span>
          <span class="hljs-comment">// FirstName: Field is required.</span>
          <span class="hljs-comment">// LastName: Field is required.</span>
</code></pre>
				<h2 id="additional-information">Additional information</h2>
				<ul>
					<li>[Business rules engine - Tutorial] (<a href="https://github.com/rsamec/business-rules-engine/wiki">https://github.com/rsamec/business-rules-engine/wiki</a>)</li>
					<li>[Business rules engine - API] (<a href="http://rsamec.github.io/business-rules-engine/docs/globals.html">http://rsamec.github.io/business-rules-engine/docs/globals.html</a>)</li>
					<li>[Business rules repository - sources] (<a href="https://github.com/rsamec/business-rules">https://github.com/rsamec/business-rules</a>)</li>
					<li>[Business rules repository - API] (<a href="http://rsamec.github.io/business-rules/docs/globals.html">http://rsamec.github.io/business-rules/docs/globals.html</a>)</li>
					<li>[NodeJS Example] (<a href="https://github.com/rsamec/node-form-app">https://github.com/rsamec/node-form-app</a>)</li>
					<li>[AngularJS Example] (<a href="https://github.com/rsamec/angular-form-app">https://github.com/rsamec/angular-form-app</a>)</li>
					<li>[AngularJS Demo - Forms app] (<a href="http://nodejs-formvalidation.rhcloud.com/">http://nodejs-formvalidation.rhcloud.com/</a>)<ul>
							<li>[Vacation Request form] (<a href="http://nodejs-formvalidation.rhcloud.com/#/vacationApproval/new">http://nodejs-formvalidation.rhcloud.com/#/vacationApproval/new</a>)</li>
							<li>[Hobbies form] (<a href="http://nodejs-formvalidation.rhcloud.com/#/hobbies/new">http://nodejs-formvalidation.rhcloud.com/#/hobbies/new</a>)</li>
						</ul>
					</li>
				</ul>
				<h2 id="source-code">Source code</h2>
				<p>All code is written in typescript.</p>
				<pre><code class="lang-bash">npm install -g typescript
</code></pre>
				<p>To compile to javascript.</p>
				<pre><code class="lang-bash">tsc src/validation/Validation.ts --target ES5 --module commonjs
</code></pre>
				<h2 id="tests">Tests</h2>
				<pre><code class="lang-bash">npm install -g mocha
npm install -g expect.js
</code></pre>
				<p>To run tests</p>
				<pre><code class="lang-bash">mocha test
</code></pre>
				<h2 id="grunt-automatization">Grunt automatization</h2>
				<h3 id="basic-steps">Basic steps</h3>
				<ul>
					<li>git clone <a href="https://github.com/rsamec/business-rules-engine">https://github.com/rsamec/business-rules-engine</a></li>
					<li>npm install - get npm packages</li>
					<li>tsd update - get external typings definition</li>
					<li>grunt typings - create node-form typings definition - used by custom validators</li>
				</ul>
				<p>To build all sources to dist folder (generates AMD, CommonJS and module pattern)</p>
				<pre><code class="lang-bash">$ grunt dist
</code></pre>
				<p>To run code analyze - complexity + jshint.</p>
				<pre><code class="lang-bash">$ grunt ci
</code></pre>
				<p>To generate api documentation.</p>
				<pre><code class="lang-bash">$ grunt document
</code></pre>
				<p>To generate typings -&gt; typescript definition files.</p>
				<pre><code class="lang-bash">$ grunt typings
</code></pre>
				<p>To run tests</p>
				<pre><code class="lang-bash">$ grunt test
</code></pre>
				<h2 id="roadmap">Roadmap</h2>
				<ul>
					<li>Add validation groups to shared validation rules</li>
					<li>Separate ValidationResult from execution of validation rules</li>
					<li>Add depedency injection for managing dependencies among components</li>
					<li>Support for meta data definitions</li>
				</ul>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-dynamic-module">
						<a href="modules/_customvalidators_datecomparevalidator_.html">"custom<wbr>Validators/<wbr>Date<wbr>Compare<wbr>Validator"</a>
					</li>
					<li class=" tsd-kind-dynamic-module">
						<a href="modules/_customvalidators_icovalidator_.html">"custom<wbr>Validators/ICOValidator"</a>
					</li>
					<li class=" tsd-kind-dynamic-module">
						<a href="modules/_customvalidators_paramvalidator_.html">"custom<wbr>Validators/<wbr>Param<wbr>Validator"</a>
					</li>
					<li class=" tsd-kind-dynamic-module">
						<a href="modules/_customvalidators_rcvalidator_.html">"custom<wbr>Validators/RCValidator"</a>
					</li>
					<li class=" tsd-kind-dynamic-module">
						<a href="modules/_validation_basicvalidators_.html">"validation/<wbr>Basic<wbr>Validators"</a>
					</li>
					<li class=" tsd-kind-dynamic-module">
						<a href="modules/_validation_formschema_.html">"validation/<wbr>Form<wbr>Schema"</a>
					</li>
					<li class=" tsd-kind-dynamic-module">
						<a href="modules/_validation_utils_.html">"validation/<wbr>Utils"</a>
					</li>
					<li class=" tsd-kind-dynamic-module">
						<a href="modules/_validation_validation_.html">"validation/<wbr>Validation"</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-container"><span class="tsd-kind-icon">Container, dynamic module</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-construct-signature"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-call-signature"><span class="tsd-kind-icon">Function, call signature, accessor</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-construct-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Member, accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-construct-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Member, accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li>&nbsp;</li>
				<li class="tsd-kind-construct-signature tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited member</span></li>
			</ul>
			<ul class="tsd-legend">
				<li>&nbsp;</li>
				<li class="tsd-kind-construct-signature tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private member</span></li>
			</ul>
			<ul class="tsd-legend">
				<li>&nbsp;</li>
				<li>&nbsp;</li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static member</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.io" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>